$(document).ready(function () {    $("#btn_convert").on('click', function () {        html2canvas(document.getElementById("myHtml"), {            allowTaint: true,            useCORS: true        }).then(function (canvas) {            var anchorTag = document.createElement("a");            // document.body.appendChild(anchorTag);            // document.getElementById("previewImg").appendChild(canvas);            let image_name = "QU#"+$('#auto_no').text()+".jpg";            anchorTag.download = image_name.replace(/\s/g, '');            anchorTag.href = canvas.toDataURL();            anchorTag.target = '_blank';            anchorTag.click();        });    });    $("#print").on('click', function (e) {        e.preventDefault();        var element = document.getElementById("myHtml");        html2canvas(element).then(async function (canvas) {            var myImage = canvas.toDataURL("image/jpg");            try {                var tmp = await window.open("", "_blank");                    $(tmp.document.body)                        .html("<img src=" + myImage + " alt=''>")                        .addEventListener('DOMContentLoaded', function () {                            setTimeout(function () {                                tmp.focus();                                tmp.print();                            }, 200);                        });            } catch (e) {                console.log('exception: ', e);            }        });    });    $('#bgback').click(function (e) {        e.preventDefault();        window.location.href = document.referrer;    });});