var currency_rate;$(document).ready(function () {	$.ajax({		cache: false,		type: 'POST',		data: {			'currency_name': "Euro"		},		url: getAppURL('currencies/get_currecny_rate_by_name'),		success: function (data) {			currency_rate = data;		}	});	$('#generate').click(function (e) {		var barcode = $('#barcode').val();		e.preventDefault();		e.stopPropagation();		e.stopImmediatePropagation();		if (barcode == '') {			$.ajax({				cache: false,				type: 'POST',				data: {					'': ''				},				url: getAppURL('Items/fetchitemnumberfromDatabase'),				success: function (data) {					$('#barcode').val(data);				}			});		}	});	$(function () {		if (window.location.search.indexOf('TransAddItem=1') != -1) {			document.getElementById('navbardiv').style.display = "none";			document.getElementById('listbtn').style.display = "none";			var navimage = document.createElement("div");			navimage.className = "navbar-header";			var img = document.createElement('img');			img.src = getAppURL('assets/img/logos/logo-white-2.png');			img.id = "logo";			navimage.appendChild(img);			document.getElementById('navbar').appendChild(navimage);		}	})	if (window.location.search.indexOf('TransAddItem=1') != -1) {		$('#itemsform').submit(function (e) {			e.preventDefault(); // don't submit multiple times						if (validation() == true) {				this.submit();				setTimeout(function () { // Delay for Chrome					window.close();				}, 100);			}		});	}	$('#open_product').click(function (e) {		e.preventDefault();		var item_id = $('#id').val();		if (!item_id) {			alert("Save Item first");		} else {			window.location.href = getAppURL('items/add_opening_item/' + item_id);		}	});	$(document).keypress(		function (event) {			if (event.which == '13') {				event.preventDefault();			}		});	$('#purchase_cost').on('change', function (e) {		if (isNaN(document.itemsform.purchase_cost.value) == false) {			document.getElementById('warning_purchase_cost').style.display = 'none';			var cost_chf = parseFloat($('#purchase_cost').val()) * parseFloat(currency_rate);			$('#cost').val(cost_chf);			// if (document.itemsform.profit.value != '') {			// 	if (isNaN(document.itemsform.profit.value) == false) {			// 		$('#price').val(parseFloat($('#cost').val()) * (1 + (parseFloat($('#profit').val()) / 100)));			// 	}			// }		} else {			document.getElementById('warning_purchase_cost').style.display = 'block';			document.getElementById('warning_purchase_cost').innerHTML = "*it must be a numeric value*";			document.getElementById('warning_purchase_cost').className = "alert alert-warning";		}	});	$('#open_cost').on('change', function (e) {		if (isNaN(document.itemsform.open_cost.value) == false) {			document.getElementById('warning_open_cost').style.display = 'none';			var cost_chf = parseFloat($('#open_cost').val()) * parseFloat(currency_rate);			$('#cost').val(cost_chf);			// if (document.itemsform.profit.value != '') {			// 	if (isNaN(document.itemsform.profit.value) == false) {			// 		document.getElementById('warning_open_cost').style.display = 'block';			// 		$('#price').val(parseFloat($('#cost').val()) * (1 + (parseFloat($('#profit').val()) / 100)));			// 	}			// }		} else {			document.getElementById('warning_open_cost').style.display = 'block';			document.getElementById('warning_open_cost').innerHTML = "*it must be a numeric value*";			document.getElementById('warning_open_cost').className = "alert alert-warning";		}	});	jQuery('button.i-remove').on('click', function () {		jQuery(this.parentNode.parentNode).remove();	});	$('#add_ean').on('click', function (e) {		$('#row_empty').hide();		let $lastTr = jQuery('tr:last', $('#eanTblBody'));		let idx = 1 + parseInt($lastTr.length > 0 ? $lastTr.attr('data-index') : -1);		var tr = '<tr id="ean-%d" data-index="%d"><td><input type="text" name="ean[]" class="form-control input-sm i-ean"></td><td><button type="button" class="btn btn-sm btn-danger i-remove"><i class="glyphicon glyphicon-remove-circle"></i></button></td></tr>'		$('#eanTblBody').append(tr.replace(/%d/g, String(idx)));		var $row = jQuery('tr#ean-' + idx, $('#eanTblBody'));		jQuery('button.i-remove', $row).on('click', function () {			jQuery(this.parentNode.parentNode).remove();					});	})});